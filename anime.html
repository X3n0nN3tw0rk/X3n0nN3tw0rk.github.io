<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loading…</title>
<link id="favicon" rel="icon" href="">

<style>
html, body {
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden;
}
#iframeContainer {
  width:100vw;
  height:100vh;
  position:fixed;
  top:0;
  left:0;
}
iframe {
  width:100%;
  height:100%;
  border:none;
}
</style>
</head>

<body>
<div id="iframeContainer"></div>

<script>
// Soft block _blank without breaking players
document.addEventListener("click", e => {
  const link = e.target.closest("a[target='_blank']");
  if (link) {
    e.preventDefault();
    location.href = link.href;
  }
}, true);

// UI list
const UIs = [
  {
    file: "AnimeCloaks/clever.html",
    title: "Clever",
    icon: "https://www.clever.com/wp-content/uploads/2023/06/cropped-Favicon-512px-192x192.png"
  },
  {
    file: "AnimeCloaks/github.html",
    title: "GitHub",
    icon: "https://github.com/fluidicon.png"
  }
];

// Pick random UI
const ui = UIs[Math.floor(Math.random() * UIs.length)];

// Update tab instantly
document.title = ui.title;
document.getElementById("favicon").href = ui.icon;

// Create iframe
const iframe = document.createElement("iframe");
iframe.src = ui.file;

// ✅ VIDEO SAFE permissions
iframe.allow = `
  autoplay;
  fullscreen;
  picture-in-picture;
  encrypted-media;
  clipboard-read;
  clipboard-write;
  presentation
`;

iframe.allowFullscreen = true;

// ✅ Correct sandbox (no breaking)
iframe.sandbox = `
  allow-scripts
  allow-same-origin
  allow-popups
  allow-popups-to-escape-sandbox
  allow-presentation
`;

document.getElementById("iframeContainer").appendChild(iframe);
</script>
</body>
</html>
