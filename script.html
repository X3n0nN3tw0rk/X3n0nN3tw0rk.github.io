<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Embed Gallery</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
  h1 { text-align: center; margin-bottom: 30px; }
  .gallery { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }
  .card { width: 220px; border: 1px solid #ccc; border-radius: 8px; overflow: hidden; cursor: pointer; }
  .card img { width: 100%; height: 120px; object-fit: cover; }
  .card .title { text-align: center; font-weight: bold; padding: 5px; }
  .card .edit { position: absolute; top: 5px; right: 5px; background: rgba(0,0,0,0.5); color: white; border-radius: 50%; width: 24px; height: 24px; display: flex; justify-content: center; align-items: center; cursor: pointer; }
  .embed-frame { width: 90%; height: 600px; border: 2px solid #ccc; border-radius: 8px; margin: 0 auto; display: block; }
</style>
</head>
<body>

<h1>Embed Gallery</h1>

<div class="gallery" id="gallery"></div>

<iframe id="embedFrame" class="embed-frame" src="" frameborder="0" allowfullscreen></iframe>

<script>
const defaultProjects = [
  {name: "Wikipedia", url: "https://en.wikipedia.org/wiki/Main_Page", img: "https://via.placeholder.com/220x120.png?text=Wikipedia"},
  {name: "Example", url: "https://example.com", img: "https://via.placeholder.com/220x120.png?text=Example"},
];

let projects = JSON.parse(localStorage.getItem('projects')) || defaultProjects;

function saveProjects() {
  localStorage.setItem('projects', JSON.stringify(projects));
}

const gallery = document.getElementById('gallery');
const embedFrame = document.getElementById('embedFrame');

function renderGallery() {
  gallery.innerHTML = "";
  projects.forEach((p, i) => {
    const card = document.createElement('div');
    card.className = 'card';
    
    const img = document.createElement('img');
    img.src = p.img;
    card.appendChild(img);
    
    const title = document.createElement('div');
    title.className = 'title';
    title.textContent = p.name;
    card.appendChild(title);
    
    const edit = document.createElement('div');
    edit.className = 'edit';
    edit.textContent = 'â€¦';
    edit.onclick = (e) => {
      e.stopPropagation();
      const newName = prompt("Project name:", p.name);
      const newURL = prompt("Project URL (must allow iframe):", p.url);
      const newImg = prompt("Preview image URL:", p.img);
      if(newName) p.name = newName;
      if(newURL) p.url = newURL;
      if(newImg) p.img = newImg;
      saveProjects();
      renderGallery();
    };
    card.appendChild(edit);
    
    card.onclick = () => {
      embedFrame.src = p.url;
    };
    
    gallery.appendChild(card);
  });
}

renderGallery();
</script>

</body>
</html>
